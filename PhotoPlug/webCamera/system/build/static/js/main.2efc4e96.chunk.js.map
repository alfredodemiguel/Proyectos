{"version":3,"sources":["components/Encabezado.js","ReadApi.js","Validation.js","InterfazSmartPlug.js","WriteApi.js","index.js"],"names":["Encabezado","className","role","id","ReadApi","url","axios","get","then","response","window","$menPlugs","data","catch","error","Validation","props","history","useEffect","$urlSmartPlug","onSubmit","$selectedMenPlugs","length","forEach","element","smUser","$user","smPassword","$password","push","smLive","smState","smGroup","smTimeStamp","smProximity","smEmail","smStateEmail","smInitialConf","smPG1","smPG2","smPG3","type","aria-label","aria-describedby","name","onChange","event","target","value","btoa","href","InterfazSmartPlug","useState","setData","modalEditar","setModalEditar","smpG3","smSeleccionado","setSM","handleChange","e","prevState","editar","dataNueva","map","sm","thePlug","post","console","log","WriteApi","class","style","width","elemento","key","onClick","seleccionarSM","src","height","alt","Modal","isOpen","ModalHeader","ModalBody","readOnly","required","selected","ModalFooter","to","ReactDOM","render","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.2efc4e96.chunk.js","sourcesContent":["import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst Encabezado = ()=> {\n    return(\n        <header className=\"Menu-header\">\n            <br/>\n            <h1 className=\"alert alert-primary\" role=\"alert\" id=\"titleP\">PHOTOPLUG</h1>\n            <br />\n        </header>\n    );\n}; \n\nexport default Encabezado;","import axios from 'axios';\n\n\nexport default function ReadApi(url) {\n\n  axios.get(url)\n  .then(function (response) {\n    window.$menPlugs = response.data;\n  }).then(()=>{\n      return window.$menPlugs;\n  }) \n  .catch(function (error) {\n    //console.log (`Error al hacer get: ${error}`);\n  });  \n}\n\n\n","import React, {useEffect} from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Encabezado from './components/Encabezado';\nimport ReadApi from './ReadApi';\n\n  \n\nfunction Validation(props) {\n  const { history } = props;\n\n  useEffect(() => {\n   ReadApi(window.$urlSmartPlug);\n  },[]);\n  \n  function checkUser(event) {\n    window.$user = (event.target.value);\n  }\n  \n  function checkPassword(event) {\n    window.$password = btoa((event.target.value));\n  }\n  \n  function checkUserSubmited (){\n    window.$selectedMenPlugs.length = 0;\n    window.$menPlugs.forEach(element => {\n                                if (element.smUser === window.$user && element.smPassword === window.$password){\n                                  window.$selectedMenPlugs.push({\"id\": element.id,\"smLive\": element.smLive,\"smState\": element.smState,\n                                  \"smGroup\": element.smGroup,\"smTimeStamp\": element.smTimeStamp,\"smProximity\": element.smProximity,\n                                  \"smEmail\": element.smEmail,\"smStateEmail\": element.smStateEmail,\"smUser\": element.smUser,\n                                  \"smPassword\": element.smPassword,\"smInitialConf\":element.smInitialConf,\"smPG1\":element.smPG1,\n                                  \"smPG2\":element.smPG2,\"smPG3\":element.smPG3});\n                                }\n                              });\n    if (window.$selectedMenPlugs.length > 0){\n      history.push(`/smartPlug`);\n    }\n  }\n\n \n  return (\n    <div className=\"Menu\">\n      <Encabezado/>\n      <div id=\"imagesMenu\">\n        <br/>\n        <br/>\n        <form onSubmit={checkUserSubmited}>\n        <div className=\"input-group input-group-lg\" >\n         <div className=\"input-group-prepend\">\n          <span className=\"input-group-text\" id=\"inputGroup-sizing-lg\">Usuario</span>\n         </div>\n          <input type=\"text\" className=\"form-control\" aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-lg\" name=\"usuarioOfSmartPlug\" onChange={checkUser}/>\n        </div>\n\n        <div className=\"input-group input-group-lg\">\n         <div className=\"input-group-prepend\">\n          <span className=\"input-group-text\" id=\"inputGroup-sizing-lg\">Contraseña</span>\n         </div>\n         <input type=\"text\" className=\"form-control\" aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-lg\" name=\"passwordOfSmartPlug\" onChange={checkPassword}/>\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n        </form>\n        <br/>\n        <br/>\n      </div>\n      <blockquote className=\"blockquote text-center\">\n        <a href=\"https://github.com/alfredodemiguel/Proyectos/tree/master/PhotoPlug\" className=\"badge badge-secondary\">Código fuente del proyecto</a>\n      </blockquote>\n    </div>\n  );\n}\n\nexport default Validation;\n ","import {Link} from 'react-router-dom';\nimport React, {useState}  from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Modal, ModalBody, ModalHeader, ModalFooter} from 'reactstrap';\nimport { MDBContainer } from 'mdbreact';\nimport Encabezado from './components/Encabezado';\nimport ReadApi from './ReadApi';\nimport WriteApi from './WriteApi';\n\n\n\nfunction InterfazSmartPlug() {\n  \n  const [data, setData] = useState(window.$selectedMenPlugs);\n  const [modalEditar, setModalEditar] = useState(false);\n\n  const [smSeleccionado, setSM] = useState({\n    id: '',\n    smLive: '',\n    smState: '',\n    smPG2: '',\n    smpG3: ''\n  });\n\n  const refrescarDatos=()=>{\n    console.log ('Estoy en refrescarDatos');\n    ReadApi(window.$urlSmartPlug);\n    window.$selectedMenPlugs.length = 0;\n    window.$menPlugs.forEach(element => {\n      if (element.smUser === window.$user && element.smPassword === window.$password){\n        window.$selectedMenPlugs.push({\"id\": element.id,\"smLive\": element.smLive,\"smState\": element.smState,\n        \"smGroup\": element.smGroup,\"smTimeStamp\": element.smTimeStamp,\"smProximity\": element.smProximity,\n        \"smEmail\": element.smEmail,\"smStateEmail\": element.smStateEmail,\"smUser\": element.smUser,\n        \"smPassword\": element.smPassword,\"smInitialConf\":element.smInitialConf,\"smPG1\":element.smPG1,\n        \"smPG2\":element.smPG2,\"smPG3\":element.smPG3});\n      }\n    });\n    setData(window.$menPlugs);\n  }\n\n  const seleccionarSM=(elemento)=>{\n    setSM(elemento);\n    setModalEditar(true);\n  }\n\n  const handleChange=e=>{\n    const {name, value}=e.target;\n    setSM((prevState)=>({\n      ...prevState,\n      [name]: value\n    }));  \n  }\n\n\n  const editar=()=>{\n    var dataNueva=data;\n    dataNueva.map(sm=>{\n      if(sm.id===smSeleccionado.id){\n        sm.smLive=smSeleccionado.smLive;\n        if (smSeleccionado.smState === 'On' || smSeleccionado.smState === 'Off'){\n          sm.smState=smSeleccionado.smState;\n        } else {\n          sm.smState=\"Off\"\n        }\n        if (smSeleccionado.smPG2 === \"True\" || smSeleccionado.smPG2 === \"False\"){\n          sm.smPG2=smSeleccionado.smPG2;\n        } else {\n          sm.smPG2 = \"False\"\n        }        \n        let thePlug = {\"id\": sm.id,\"smLive\": sm.smLive,\"smState\": sm.smState,\"smGroup\":\"nul\",\n        \"smTimeStamp\": 1,\"smProximity\":\"nul\",\"smEmail\":\"nul\",\"smStateEmail\":\"nul\",\n        \"smUser\":sm.smUser,\"smPassword\":sm.smPassword,\"smInitialConf\":\"new\",\"smPG1\":\"nul\",\"smPG2\":sm.smPG2,\n        \"smPG3\":sm.smPG3};\n        WriteApi (window.$urlSmartPlug,thePlug);\n      }\n      return 0;\n    });\n    setData(dataNueva);\n    setModalEditar(false);\n  }\n\n\n  return (\n    <div className=\"App\">\n      <Encabezado/>\n      <div class=\"table-responsive-sm\" style={{width: \"100%\"}}>\n        <table className=\"table table-bordered\" >\n          <tbody>\n            {window.$selectedMenPlugs.map(elemento=>(\n              <tr key={elemento.id}>\n                <tr>\n                  <td><strong>ID:</strong>{elemento.id}</td>\n                  <td><strong>Vivo:</strong>{elemento.smLive}</td>\n                  <td><strong>Estado:</strong>{elemento.smState}</td>\n                  <td><strong>Fofo:</strong>{elemento.smPG2}</td>\n                  <td><button className=\"btn btn-primary\" onClick={()=>seleccionarSM(elemento)}>Editar</button> {\"   \"}</td>\n                </tr>  \n                <tr>\n                  <td><img src={elemento.smPG3} width=\"100%\" height=\"100%\" alt =\"Foto\"/></td>\n                  <td><button className=\"btn btn-primary\" onClick={()=>refrescarDatos()}>Referescar</button> {\"   \"}</td>\n                </tr>\n              </tr>\n            ))\n            }\n          </tbody>\n        </table>\n      </div>\n\n      <Modal isOpen={modalEditar}>\n        <ModalHeader>\n          <div>\n            <h3>Editar SmartPlug</h3>\n          </div>\n        </ModalHeader>\n        <ModalBody>\n          <div className=\"form-group\">\n            <label>ID</label>\n            <input\n              className=\"form-control\"\n              readOnly\n              type=\"text\"\n              name=\"id\"\n              value={smSeleccionado && smSeleccionado.id}\n            />\n            <br/>\n            <label>Vivo</label>\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              name=\"smLive\"\n              value={smSeleccionado && smSeleccionado.smLive}\n              readOnly\n            />\n            <br/>\n            <label>Estado (ATENCIÓN: Si no se elige estado pasa a Off)</label>\n            <select class=\"custom-select custom-select-lg mb-3\"\n             name=\"smState\"\n             onChange={handleChange} required>\n              <option selected>On/Off</option>\n              <option value=\"On\">On</option>\n              <option value=\"Off\">Off</option>\n            </select>\n            <br/>\n            <label>Tomar Fotografia</label>\n            <select class=\"custom-select custom-select-lg mb-3\"\n             name=\"smPG2\"\n             onChange={handleChange} required>\n              <option selected>True/False</option>\n              <option value=\"True\">True</option>\n              <option value=\"False\">False</option>\n            </select>\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-primary\" onClick={()=>editar()}>\n            Actualizar\n          </button>\n          <button\n            className=\"btn btn-danger\"\n            onClick={()=>setModalEditar(false)}\n          >\n            Cancelar\n          </button>\n        </ModalFooter>\n      </Modal>\n      \n      <br/>\n      <div class=\"mx-auto\" style={{width: \"200px\"}}>\n      <MDBContainer>\n        <div className=\"text-wrap badge badge-secondary\" style={{width: \"8rem\"}}> \n          <Link to=\"/\"><p class=\"text-white text-center\">Menu Principal</p></Link>\n        </div>\n      </MDBContainer>\n      </div>\n      <br/><br/><br/><br/>\n      <blockquote class=\"blockquote text-right\">\n        <a href=\"https://github.com/alfredodemiguel/Proyectos/tree/master/PhotoPlug\" class=\"badge badge-secondary\">Código fuente del proyecto</a>\n      </blockquote>\n    </div>\n  ); \n}\n\nexport default InterfazSmartPlug;","import axios from 'axios';\n\n\nexport default function WriteApi(url,thePlug) {\n    axios.post(url, thePlug)\n    .then(function (response) {\n      console.log (response);\n    })\n    .catch(function (error) {\n      console.log (error);\n    });\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport Validation from './Validation';\nimport InterfazSmartPlug from './InterfazSmartPlug';\n\nwindow.$urlSmartPlug = \"https://api-smartplug.herokuapp.com/smartplug/\";\nwindow.$selectedMenPlugs = [];\nwindow.$menPlugs = [];\nwindow.$user = \"\";\nwindow.$password = \"\";\n\n\nconst App = () => (\n    <BrowserRouter>\n        <Route exact path ='/' component={Validation}/>     \n        <Route path ='/smartPlug' component={()=> <InterfazSmartPlug/>}/>\n    </BrowserRouter>\n);\n\n \n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}