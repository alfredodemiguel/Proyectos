{"version":3,"sources":["components/Encabezado.js","Validation.js","interfazSmartPlug.js","index.js"],"names":["Encabezado","className","class","role","id","menPlugs","user","password","Validation","props","history","useEffect","axios","get","window","$urlSmartPlug","then","response","data","catch","error","console","log","onSubmit","$selectedMenPlugs","length","forEach","element","smUser","smPassword","push","smLive","smState","smGroup","smTimeStamp","smProximity","smEmail","smStateEmail","smInitialConf","smPG1","smPG2","smPG3","type","aria-label","aria-describedby","name","onChange","event","target","value","$user","btoa","$password","href","InterfazSmartPlug","useState","setData","modalEditar","setModalEditar","smSeleccionado","setSM","handleChange","e","prevState","map","elemento","key","onClick","seleccionarSM","src","width","height","alt","Modal","isOpen","ModalHeader","ModalBody","readOnly","required","selected","ModalFooter","dataNueva","sm","thePlug","post","editar","style","to","ReactDOM","render","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.0167a2b1.chunk.js","sourcesContent":["import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst Encabezado = ()=> {\n    return(\n        <header className=\"Menu-header\">\n            <br/>\n            <h1 class=\"alert alert-primary\" role=\"alert\" id=\"titleP\">PHOTOPLUG</h1>\n            <br />\n        </header>\n    );\n}; \n\nexport default Encabezado;","import React, {useEffect} from 'react';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Encabezado from './components/Encabezado';\n\nlet menPlugs = [];\nlet user = \"\";\nlet password = \"\";\n  \n\nfunction Validation(props) {\n  const { history } = props;\n\n  useEffect(() => {\n    axios.get(window.$urlSmartPlug)\n    .then(function (response) {\n      menPlugs = response.data;\n    }) \n    .catch(function (error) {\n      console.log ('Error al hacer get'+ error);\n    });  \n  },[]);\n  \n  \n  function checkUser(event) {\n    user = (event.target.value);\n    window.$user = user;\n  }\n  \n  function checkPassword(event) {\n    password = btoa((event.target.value));\n    window.$password = password;\n  }\n  \n  function checkUserSubmited (){\n    window.$selectedMenPlugs.length = 0;\n    menPlugs.forEach(element => {\n                                if (element.smUser === user && element.smPassword === password){\n                                  window.$selectedMenPlugs.push({\"id\": element.id,\"smLive\": element.smLive,\"smState\": element.smState,\n                                  \"smGroup\": element.smGroup,\"smTimeStamp\": element.smTimeStamp,\"smProximity\": element.smProximity,\n                                  \"smEmail\": element.smEmail,\"smStateEmail\": element.smStateEmail,\"smUser\": element.smUser,\n                                  \"smPassword\": element.smPassword,\"smInitialConf\":element.smInitialConf,\"smPG1\":element.smPG1,\n                                  \"smPG2\":element.smPG2,\"smPG3\":element.smPG3});\n                                }\n                              });\n    if (window.$selectedMenPlugs.length > 0){\n      history.push(`/smartPlug`);\n    }\n  }\n\n \n  return (\n    <div className=\"Menu\">\n      <Encabezado/>\n      <div id=\"imagesMenu\">\n        <br/>\n        <br/>\n        <form onSubmit={checkUserSubmited}>\n        <div class=\"input-group input-group-lg\">\n         <div class=\"input-group-prepend\">\n          <span class=\"input-group-text\" id=\"inputGroup-sizing-lg\">Usuario</span>\n         </div>\n          <input type=\"text\" class=\"form-control\" aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-lg\" name=\"usuarioOfSmartPlug\" onChange={checkUser}/>\n        </div>\n\n        <div class=\"input-group input-group-lg\">\n         <div class=\"input-group-prepend\">\n          <span class=\"input-group-text\" id=\"inputGroup-sizing-lg\">Contraseña</span>\n         </div>\n         <input type=\"text\" class=\"form-control\" aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-lg\" name=\"passwordOfSmartPlug\" onChange={checkPassword}/>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n        </form>\n        <br/>\n        <br/>\n      </div>\n      <blockquote class=\"blockquote text-center\">\n        <a href=\"https://github.com/alfredodemiguel/Proyectos/tree/master/PhotoPlug\" class=\"badge badge-secondary\">Código fuente del proyecto</a>\n      </blockquote>\n    </div>\n  );\n}\n\nexport default Validation;\n ","import {Link} from 'react-router-dom';\nimport React, {useState}  from 'react';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Modal, ModalBody, ModalHeader, ModalFooter} from 'reactstrap';\nimport { MDBContainer } from 'mdbreact';\nimport Encabezado from './components/Encabezado';\n\nlet menPlugs = [];\n\nfunction InterfazSmartPlug() {\n  \n  const [data, setData] = useState(window.$selectedMenPlugs);\n  const [modalEditar, setModalEditar] = useState(false);\n  \n\n  const [smSeleccionado, setSM] = useState({\n    id: '',\n    smLive: '',\n    smState: '',\n    smGroup: '',\n    smProximity: '',\n    smEmail: '',\n    smStateEmail: ''\n  });\n\n  const refrescarDatos=()=>{\n    console.log ('Estoy en refrescarDatos');\n    axios.get(window.$urlSmartPlug)\n    .then(function (response) {\n      menPlugs = response.data;\n    }) \n    .catch(function (error) {\n      console.log ('Error al hacer get'+ error);\n    });  \n    window.$selectedMenPlugs.length = 0;\n    menPlugs.forEach(element => {\n      if (element.smUser === window.$user && element.smPassword === window.$password){\n        window.$selectedMenPlugs.push({\"id\": element.id,\"smLive\": element.smLive,\"smState\": element.smState,\n        \"smGroup\": element.smGroup,\"smTimeStamp\": element.smTimeStamp,\"smProximity\": element.smProximity,\n        \"smEmail\": element.smEmail,\"smStateEmail\": element.smStateEmail,\"smUser\": element.smUser,\n        \"smPassword\": element.smPassword,\"smInitialConf\":element.smInitialConf,\"smPG1\":element.smPG1,\n        \"smPG2\":element.smPG2,\"smPG3\":element.smPG3});\n      }\n    });\n    setData(menPlugs);\n  }\n\n  const seleccionarSM=(elemento)=>{\n    setSM(elemento);\n    setModalEditar(true);\n  }\n\n  const handleChange=e=>{\n    const {name, value}=e.target;\n    setSM((prevState)=>({\n      ...prevState,\n      [name]: value\n    }));  \n  }\n\n\n  const editar=()=>{\n    var dataNueva=data;\n    dataNueva.map(sm=>{\n      if(sm.id===smSeleccionado.id){\n        sm.smLive=smSeleccionado.smLive;\n        if (smSeleccionado.smState === 'On' || smSeleccionado.smState === 'Off'){\n          sm.smState=smSeleccionado.smState;\n        } else {\n          sm.smState=\"Off\"\n        }\n        if (smSeleccionado.smPG2 === \"True\" || smSeleccionado.smPG2 === \"False\"){\n          sm.smPG2=smSeleccionado.smPG2;\n        } else {\n          sm.smPG2 = \"False\"\n        }        \n        let thePlug = {\"id\": sm.id,\"smLive\": sm.smLive,\"smState\": sm.smState,\"smGroup\": sm.smGroup,\n        \"smTimeStamp\": 1,\"smProximity\": sm.smProximity,\"smEmail\": sm.smEmail,\"smStateEmail\": sm.smStateEmail,\n        \"smUser\": sm.smUser,\"smPassword\": sm.smPassword,\"smInitialConf\":\"new\",\"smPG1\":\"nul\",\"smPG2\":sm.smPG2,\n        \"smPG3\":\"nul\"};\n\n        axios.post(window.$urlSmartPlug, thePlug)\n        .then(function (response) {\n          console.log (response);\n        })\n        .catch(function (error) {\n          console.log (error);\n        });\n      }\n      return 0;\n    });\n    setData(dataNueva);\n    setModalEditar(false);\n  }\n\n\n  return (\n    <div className=\"App\">\n      <Encabezado/>\n      <table className=\"table table-bordered\">\n        <tbody>\n          {window.$selectedMenPlugs.map(elemento=>(\n            <tr key={elemento.id}>\n              <tr>\n                <td><strong>ID:</strong>{elemento.id}</td>\n                <td><strong>Vivo:</strong>{elemento.smLive}</td>\n                <td><strong>Estado:</strong>{elemento.smState}</td>\n                <td><strong>Fofo:</strong>{elemento.smPG2}</td>\n                <td><button className=\"btn btn-primary\" onClick={()=>seleccionarSM(elemento)}>Editar</button> {\"   \"}</td>\n              </tr>  \n              <tr>\n                <td><img src={elemento.smPG3} width=\"100%\" height=\"100%\" alt =\"Foto\"/></td>\n                <td><button className=\"btn btn-primary\" onClick={()=>refrescarDatos()}>Referescar</button> {\"   \"}</td>\n              </tr>\n            </tr>\n          ))\n          }\n        </tbody>\n      </table>\n\n\n      <Modal isOpen={modalEditar}>\n        <ModalHeader>\n          <div>\n            <h3>Editar SmartPlug</h3>\n          </div>\n        </ModalHeader>\n        <ModalBody>\n          <div className=\"form-group\">\n            <label>ID</label>\n            <input\n              className=\"form-control\"\n              readOnly\n              type=\"text\"\n              name=\"id\"\n              value={smSeleccionado && smSeleccionado.id}\n            />\n            <br />\n\n            <label>Vivo</label>\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              name=\"smLive\"\n              value={smSeleccionado && smSeleccionado.smLive}\n              readOnly\n              onChange={handleChange}\n            />\n            <br />\n\n            <label>Estado (Si no se elige estado pasa a Off)</label>\n            <select class=\"custom-select custom-select-lg mb-3\"\n             name=\"smState\"\n             onChange={handleChange} required>\n              <option selected>On/Off</option>\n              <option value=\"On\">On</option>\n              <option value=\"Off\">Off</option>\n            </select>\n            <br/>\n            <label>Tomar Fotografia</label>\n            <select class=\"custom-select custom-select-lg mb-3\"\n             name=\"smPG2\"\n             onChange={handleChange} required>\n              <option selected>True/False</option>\n              <option value=\"True\">True</option>\n              <option value=\"False\">False</option>\n            </select>\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-primary\" onClick={()=>editar()}>\n            Actualizar\n          </button>\n          <button\n            className=\"btn btn-danger\"\n            onClick={()=>setModalEditar(false)}\n          >\n            Cancelar\n          </button>\n        </ModalFooter>\n      </Modal>\n      \n      <br/>\n      <div class=\"mx-auto\" style={{width: \"200px\"}}>\n      <MDBContainer>\n        <div className=\"text-wrap badge badge-secondary\" style={{width: \"8rem\"}}> \n          <Link to=\"/\"><p class=\"text-white text-center\">Menu Principal</p></Link>\n        </div>\n      </MDBContainer>\n      </div>\n      <br/><br/><br/><br/>\n      <blockquote class=\"blockquote text-right\">\n        <a href=\"https://github.com/alfredodemiguel/Proyectos/tree/master/PhotoPlug\" class=\"badge badge-secondary\">Código fuente del proyecto</a>\n      </blockquote>\n    </div>\n  ); \n}\n\nexport default InterfazSmartPlug;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport Validation from './Validation';\nimport InterfazSmartPlug from './interfazSmartPlug';\n\n\nwindow.$urlSmartPlug = \"https://api-smartplug.herokuapp.com/smartplug/\";\nwindow.$selectedMenPlugs = [];\nwindow.$user = \"\";\nwindow.$password = \"\";\n\n\nconst App = () => (\n    <BrowserRouter>\n            <Route exact path ='/' component={Validation}/>   \n            <Route path ='/smartPlug' component={()=> <InterfazSmartPlug/>}/>\n    </BrowserRouter>\n);\n\n \n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}