{"version":3,"sources":["components/Encabezado.js","Validation.js","interfazSmartPlug.js","index.js"],"names":["Encabezado","className","class","role","id","menPlugs","user","password","Validation","props","history","useEffect","axios","get","window","$urlSmartPlug","then","response","data","catch","error","console","log","onSubmit","$selectedMenPlugs","length","forEach","element","smUser","smPassword","push","smLive","smState","smGroup","smTimeStamp","smProximity","smEmail","smStateEmail","smInitialConf","smPG1","smPG2","smPG3","type","aria-label","aria-describedby","name","onChange","event","target","value","btoa","href","InterfazSmartPlug","useState","setData","modalEditar","setModalEditar","smSeleccionado","setSM","handleChange","e","prevState","map","elemento","key","onClick","seleccionarSM","Modal","isOpen","ModalHeader","ModalBody","readOnly","ModalFooter","dataNueva","sm","thePlug","post","editar","style","width","to","ReactDOM","render","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.f9687665.chunk.js","sourcesContent":["import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst Encabezado = ()=> {\n    return(\n        <header className=\"Menu-header\">\n            <br/>\n            <h1 class=\"alert alert-primary\" role=\"alert\" id=\"titleP\">SMARTPLUG</h1>\n            <br />\n        </header>\n    );\n}; \n\nexport default Encabezado;","import React, {useEffect} from 'react';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Encabezado from './components/Encabezado';\n\nlet menPlugs = [];\nlet user = \"\";\nlet password = \"\";\n  \n\nfunction Validation(props) {\n  const { history } = props;\n\n  useEffect(() => {\n    axios.get(window.$urlSmartPlug)\n    .then(function (response) {\n      menPlugs = response.data;\n    }) \n    .catch(function (error) {\n      console.log ('Error al hacer get'+ error);\n    });  \n  },[]);\n  \n  \n  function checkUser(event) {\n    user = (event.target.value);\n  }\n  \n  function checkPassword(event) {\n    password = btoa((event.target.value));\n  }\n  \n  function checkUserSubmited (){\n    window.$selectedMenPlugs.length = 0;\n    menPlugs.forEach(element => {\n                                if (element.smUser === user && element.smPassword === password){\n                                  window.$selectedMenPlugs.push({\"id\": element.id,\"smLive\": element.smLive,\"smState\": element.smState,\n                                  \"smGroup\": element.smGroup,\"smTimeStamp\": element.smTimeStamp,\"smProximity\": element.smProximity,\n                                  \"smEmail\": element.smEmail,\"smStateEmail\": element.smStateEmail,\"smUser\": element.smUser,\n                                  \"smPassword\": element.smPassword,\"smInitialConf\":element.smInitialConf,\"smPG1\":element.smPG1,\n                                  \"smPG2\":element.smPG2,\"smPG3\":element.smPG3});\n                                }\n                              });\n    if (window.$selectedMenPlugs.length > 0){\n      history.push(`/smartPlug`);\n    }\n  }\n\n \n  return (\n    <div className=\"Menu\">\n      <Encabezado/>\n      <div id=\"imagesMenu\">\n        <br/>\n        <br/>\n        <form onSubmit={checkUserSubmited}>\n        <div class=\"input-group input-group-lg\">\n         <div class=\"input-group-prepend\">\n          <span class=\"input-group-text\" id=\"inputGroup-sizing-lg\">Usuario</span>\n         </div>\n          <input type=\"text\" class=\"form-control\" aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-lg\" name=\"usuarioOfSmartPlug\" onChange={checkUser}/>\n        </div>\n\n        <div class=\"input-group input-group-lg\">\n         <div class=\"input-group-prepend\">\n          <span class=\"input-group-text\" id=\"inputGroup-sizing-lg\">Contraseña</span>\n         </div>\n         <input type=\"text\" class=\"form-control\" aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-lg\" name=\"passwordOfSmartPlug\" onChange={checkPassword}/>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n        </form>\n        <br/>\n        <br/>\n      </div>\n      <blockquote class=\"blockquote text-center\">\n        <a href=\"https://github.com/alfredodemiguel/Proyectos/tree/master/smartplug\" class=\"badge badge-secondary\">Código fuente del proyecto</a>\n      </blockquote>\n    </div>\n  );\n}\n\nexport default Validation;\n ","import {Link} from 'react-router-dom';\nimport React, {useState}  from 'react';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Modal, ModalBody, ModalHeader, ModalFooter} from 'reactstrap';\nimport { MDBContainer } from 'mdbreact';\nimport Encabezado from './components/Encabezado';\n\n\n\nfunction InterfazSmartPlug() {\n  \n  const [data, setData] = useState(window.$selectedMenPlugs);\n  const [modalEditar, setModalEditar] = useState(false);\n  \n\n  const [smSeleccionado, setSM] = useState({\n    id: '',\n    smLive: '',\n    smState: '',\n    smGroup: '',\n    smProximity: '',\n    smEmail: '',\n    smStateEmail: ''\n  });\n\n  const seleccionarSM=(elemento)=>{\n    setSM(elemento);\n    setModalEditar(true);\n  }\n\n  const handleChange=e=>{\n    const {name, value}=e.target;\n    setSM((prevState)=>({\n      ...prevState,\n      [name]: value\n    }));  \n  }\n\n\n  const editar=()=>{\n    var dataNueva=data;\n    dataNueva.map(sm=>{\n      if(sm.id===smSeleccionado.id){\n        sm.smLive=smSeleccionado.smLive;\n        if (smSeleccionado.smState === 'On' || smSeleccionado.smState === 'Off'){\n          sm.smState=smSeleccionado.smState;\n        } else {\n          sm.smState=\"Off\"\n        }\n        sm.smGroup=smSeleccionado.smGroup;\n        if (smSeleccionado.smProximity === \"true\" || smSeleccionado.smProximity === \"false\"){\n          sm.smProximity=smSeleccionado.smProximity;\n        } else {\n          sm.smProximity = \"false\"\n        }\n        sm.smEmail=smSeleccionado.smEmail;\n        if (smSeleccionado.smStateEmail === \"On\" || smSeleccionado.smStateEmail === \"Off\"){\n          sm.smStateEmail=smSeleccionado.smStateEmail\n        } else {\n          sm.smStateEmail = \"false\"\n        }\n        \n        let thePlug = {\"id\": sm.id,\"smLive\": sm.smLive,\"smState\": sm.smState,\"smGroup\": sm.smGroup,\n        \"smTimeStamp\": 1,\"smProximity\": sm.smProximity,\"smEmail\": sm.smEmail,\"smStateEmail\": sm.smStateEmail,\n        \"smUser\": sm.smUser,\"smPassword\": sm.smPassword,\"smInitialConf\":\"new\",\"smPG1\":\"nul\",\"smPG2\":\"nul\",\n        \"smPG3\":\"nul\"};\n\n        axios.post(window.$urlSmartPlug, thePlug)\n        .then(function (response) {\n          console.log (response);\n        })\n        .catch(function (error) {\n          console.log (error);\n        });\n      }\n      return 0;\n    });\n    setData(dataNueva);\n    setModalEditar(false);\n  }\n\n\n  return (\n    <div className=\"App\">\n      <Encabezado/>\n      <table className=\"table table-bordered\">\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Vivo</th>\n            <th>Estado</th>\n            <th>Grupo</th>\n            <th>Proximidad</th>\n            <th>Email</th>\n            <th>Estado Email</th>\n          </tr>\n        </thead>\n        <tbody>\n          {window.$selectedMenPlugs.map(elemento=>(\n            <tr key={elemento.id}>\n              <td>{elemento.id}</td>\n              <td>{elemento.smLive}</td>\n              <td>{elemento.smState}</td>\n              <td>{elemento.smGroup}</td>\n              <td>{elemento.smProximity}</td>\n              <td>{elemento.smEmail}</td>\n              <td>{elemento.smStateEmail}</td>\n              <td><button className=\"btn btn-primary\" onClick={()=>seleccionarSM(elemento)}>Editar</button> {\"   \"}</td>\n            </tr>\n          ))\n          }\n        </tbody>\n      </table>\n\n\n      <Modal isOpen={modalEditar}>\n        <ModalHeader>\n          <div>\n            <h3>Editar SmartPlug</h3>\n          </div>\n        </ModalHeader>\n        <ModalBody>\n          <div className=\"form-group\">\n            <label>ID</label>\n            <input\n              className=\"form-control\"\n              readOnly\n              type=\"text\"\n              name=\"id\"\n              value={smSeleccionado && smSeleccionado.id}\n            />\n            <br />\n\n            <label>Vivo</label>\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              name=\"smLive\"\n              value={smSeleccionado && smSeleccionado.smLive}\n              readOnly\n              onChange={handleChange}\n            />\n            <br />\n\n            <label>Estado</label>\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              name=\"smState\"\n              value={smSeleccionado && smSeleccionado.smState}\n              onChange={handleChange}\n            />\n            <br/>\n\n            <label>Grupo</label>\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              name=\"smGroup\"\n              value={smSeleccionado && smSeleccionado.smGroup}\n              onChange={handleChange}\n            />\n            <br/>\n\n            <label>Proximidad</label>\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              name=\"smProximity\"\n              value={smSeleccionado && smSeleccionado.smProximity}\n              onChange={handleChange}\n            />\n            <br />\n\n            <label>Email</label>\n            <input\n              className=\"form-control\"\n              type=\"email\"\n              name=\"smEmail\"\n              value={smSeleccionado && smSeleccionado.smEmail}\n              onChange={handleChange}\n            />\n            <br/>\n\n            <label>Estado Email</label>\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              name=\"smStateEmail\"\n              value={smSeleccionado && smSeleccionado.smStateEmail}\n              onChange={handleChange}\n            />\n            <br />\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-primary\" onClick={()=>editar()}>\n            Actualizar\n          </button>\n          <button\n            className=\"btn btn-danger\"\n            onClick={()=>setModalEditar(false)}\n          >\n            Cancelar\n          </button>\n        </ModalFooter>\n      </Modal>\n      \n      <br/>\n      <div class=\"mx-auto\" style={{width: \"200px\"}}>\n      <MDBContainer>\n        <div className=\"text-wrap badge badge-secondary\" style={{width: \"8rem\"}}> \n          <Link to=\"/\"><p class=\"text-white text-center\">Menu Principal</p></Link>\n        </div>\n      </MDBContainer>\n      </div>\n      <br/><br/><br/><br/>\n      <blockquote class=\"blockquote text-right\">\n        <a href=\"https://github.com/alfredodemiguel/Proyectos/tree/master/smartplug\" class=\"badge badge-secondary\">Código fuente del proyecto</a>\n      </blockquote>\n    </div>\n  ); \n}\n\nexport default InterfazSmartPlug;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport Validation from './Validation';\nimport InterfazSmartPlug from './interfazSmartPlug';\n\n\n//window.$urlSmartPlug = \"https://api-smartplug.herokuapp.com/smartplug/\";\nwindow.$urlSmartPlug = \"http://localhost:3017/smartplug/\";\nwindow.$selectedMenPlugs = [];\n\n\nconst App = () => (\n    <BrowserRouter>\n            <Route exact path ='/' component={Validation}/>   \n            <Route path ='/smartPlug' component={()=> <InterfazSmartPlug/>}/>\n    </BrowserRouter>\n);\n\n \n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}